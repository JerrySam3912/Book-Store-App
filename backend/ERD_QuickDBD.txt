// QuickDBD Syntax - Book Store Database
// Copy và paste vào app.quickdatabasediagrams.com

users
--
id int pk
username string
email string
password_hash string
name string
phone string
role string
is_active int
created_at timestamp
updated_at timestamp

user_addresses
--
id int pk
user_id int fk >- users.id
full_name string
phone string
line1 string
city string
state string
country string
zipcode string
is_default int
created_at timestamp
updated_at timestamp

subscriptions
--
id int pk
user_id int fk >- users.id
email string
name string
is_active int
subscribed_at timestamp
unsubscribed_at timestamp

categories
--
id int pk
name string
slug string
parent_id int fk >- categories.id
created_at timestamp
updated_at timestamp

books
--
id int pk
title string
description text
category string
category_id int fk >- categories.id
author string
publisher string
isbn string
trending int
cover_image string
old_price decimal
new_price decimal
stock int
created_at timestamp
updated_at timestamp

book_images
--
id int pk
book_id int fk >- books.id
image_url string
sort_order int
created_at timestamp

vouchers
--
id int pk
code string
name string
description text
type string
value decimal
min_order_amount decimal
max_discount decimal
usage_limit int
used_count int
valid_from timestamp
valid_to timestamp
is_active int
applicable_categories text
min_quantity int
created_at timestamp
updated_at timestamp

orders
--
id int pk
user_id int fk >- users.id
address_id int fk >- user_addresses.id
name string
email string
phone string
city string
state string
country string
zipcode string
status string
payment_status string
payment_method string
shipping_method string
items_total decimal
shipping_fee decimal
discount_total decimal
total_price decimal
created_at timestamp
updated_at timestamp

order_items
--
id int pk
order_id int fk >- orders.id
book_id int fk >- books.id
quantity int
price decimal
total_price decimal
created_at timestamp

order_vouchers
--
id int pk
order_id int fk >- orders.id
voucher_id int fk >- vouchers.id
discount_amount decimal
created_at timestamp

payments
--
id int pk
order_id int fk >- orders.id
amount decimal
method string
status string
transaction_ref string
paid_at timestamp
created_at timestamp

reviews
--
id int pk
user_id int fk >- users.id
book_id int fk >- books.id
rating int
comment text
created_at timestamp

wishlists
--
id int pk
user_id int fk >- users.id
book_id int fk >- books.id
created_at timestamp

carts
--
id int pk
user_id int fk >- users.id
status string
created_at timestamp
updated_at timestamp

cart_items
--
id int pk
cart_id int fk >- carts.id
book_id int fk >- books.id
quantity int
unit_price decimal
created_at timestamp
updated_at timestamp
